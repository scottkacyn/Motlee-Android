package com.motlee.android.view;

import java.util.Timer;
import java.util.TimerTask;

import android.app.ProgressDialog;
import android.content.Context;

public class ProgressDialogWithTimeout extends ProgressDialog {

	private static Timer mTimer = new Timer();
	private static ProgressDialog dialog;
	
	public ProgressDialogWithTimeout(Context context) {
		super(context);
		// TODO Auto-generated constructor stub
	}

	public ProgressDialogWithTimeout(Context context, int theme) {
		super(context, theme);
		// TODO Auto-generated constructor stub
	}

	public static ProgressDialogWithTimeout show (Context context, CharSequence title, CharSequence message)
	{
		MyTask task = new MyTask();
		mTimer.schedule(task, 0, 1000);
		dialog = ProgressDialog.show(context, title, message);
		return dialog;
	}
	
	static class MyTask extends TimerTask {
	    //times member represent calling times.
	    private int times = 0;
	 
	 
	    public void run() {
	        dialog.cancel();
	    }
	}
}
